apiVersion: v1
kind: ConfigMap
metadata:
  name: schema-registry
  namespace: debezium
data:
  # https://docs.confluent.io/platform/7.0/schema-registry/installation/config.html

  SCHEMA_REGISTRY_LISTENERS: http://0.0.0.0:8081
  SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS: kafka-controller-0.kafka-controller-headless.kafka:9092

  SCHEMA_REGISTRY_KAFKASTORE_SSL_ENDPOINT_IDENTIFICATION_ALGORITHM: ""
  SCHEMA_REGISTRY_ADMIN_CLIENT_SSL_ENDPOINT_IDENTIFICATION_ALGORITHM: ""
  SCHEMA_REGISTRY_KAFKASTORE_ADMIN_CLIENT_SSL_ENDPOINT_IDENTIFICATION_ALGORITHM: ""
  SCHEMA_REGISTRY_KAFKASTORE_ENABLE_SSL_CERTIFICATE_VERIFICATION: "false"
  # ssl.endpoint.identification.algorithm

  SCHEMA_REGISTRY_SCHEMA_REGISTRY_GROUP_ID: schema-registry-local
  SCHEMA_REGISTRY_KAFKASTORE_TOPIC: _schemas_local
  SCHEMA_REGISTRY_KAFKASTORE_TIMEOUT_MS: "2000"

  SCHEMA_REGISTRY_KAFKASTORE_SASL_MECHANISM: SCRAM-SHA-256
  SCHEMA_REGISTRY_KAFKASTORE_SECURITY_PROTOCOL: SASL_SSL
  SCHEMA_REGISTRY_KAFKASTORE_SASL_JAAS_CONFIG: org.apache.kafka.common.security.scram.ScramLoginModule required username="user" password="password";